<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>åˆ†æ•¸ç¸½è¦½</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="header-placeholder"></div>

  <div class="section">
    <h2>åˆ†æ•¸ç¸½è¦½</h2>

    <!-- é¡¯ç¤ºåŸå§‹è³‡æ–™ -->
    <p id="game-time" style="font-weight: bold; font-size: 1.1em;"></p>
    <p id="game-score" style="font-weight: bold; font-size: 1.1em;"></p>

    <!-- é¡å¤–è¨ˆç®—æŒ‡æ¨™ -->
    <p id="reaction-score" style="font-size: 1em; color: #555;"></p>
    <p id="accuracy-score" style="font-size: 1em; color: #555;"></p>
    <!-- å…¬å¼èªªæ˜ -->
    <div style="margin-top: 20px; font-size: 0.95em; background: #f9f9f9; padding: 15px; border-radius: 8px; max-width: 800px;">
        <h3>ğŸ“˜ è¨ˆåˆ†å…¬å¼èªªæ˜ï¼š</h3>
        <p><strong>ğŸ¯ Accuracy Score = 0.125 Ã— score</strong><br>
           ï¼‰</p>
  
        <p><strong>âš¡ Reaction Score = 5 âˆ’ [5 Ã— (log(time) âˆ’ log(500)) / (log(3000) âˆ’ log(500))]</strong><br>
           ï¼ˆtime å–®ä½ç‚ºæ¯«ç§’ï¼Œæœ€ä½³åæ‡‰æ™‚é–“ç‚º 500msï¼Œæœ€å·®ç‚º 3000msï¼Œåˆ†æ•¸åœ¨ 0ï½5 ä¹‹é–“ï¼‰</p>
      </div>

  <script src="load-components.js"></script>

  <script>
    const urlParams = new URLSearchParams(window.location.search);
    const time = parseFloat(urlParams.get("time"));  // ä»¥ç§’æˆ–æ¯«ç§’ç‚ºå–®ä½
    const score = parseInt(urlParams.get("score"));

    if (!isNaN(time)) {
      document.getElementById("game-time").textContent = `ğŸ® æœ¬æ¬¡éŠæˆ²æ™‚é–“ï¼š${time} æ¯«ç§’`;
    }

    if (!isNaN(score)) {
      document.getElementById("game-score").textContent = `â­ æœ¬æ¬¡éŠæˆ²åˆ†æ•¸ï¼š${score}`;
    }

    // âœ… è¨ˆç®— Reaction Score
    if (!isNaN(time) && time > 0) {
      const log = Math.log;
      const minTime = 500;
      const maxTime = 3000;
      const reactionScore = 5 - (5 * (log(time) - log(minTime)) / (log(maxTime) - log(minTime)));
      const boundedScore = Math.max(0, Math.min(5, reactionScore)); // é™å®šåœ¨ 0~5 ç¯„åœå…§
      document.getElementById("reaction-score").textContent =
        `âš¡ åæ‡‰æ™‚é–“å¾—åˆ†ï¼ˆReaction Scoreï¼‰ï¼š${boundedScore.toFixed(2)}`;
    }

    // âœ… è¨ˆç®— Accuracy Score
    if (!isNaN(score)) {
      const accuracyScore = 0.125 * score;
      document.getElementById("accuracy-score").textContent =
        `ğŸ¯ ç­”é¡Œæ­£ç¢ºç‡å¾—åˆ†ï¼ˆAccuracy Scoreï¼‰ï¼š${accuracyScore.toFixed(2)}`;
    }
  </script>
</body>
</html>
